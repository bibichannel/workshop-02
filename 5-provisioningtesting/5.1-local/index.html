<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.126.1"><meta name=description content><meta name=author content="journeyoftheaverageguy@gmail.com"><link rel=icon href=https://bibichannel.github.io/workshop-02/images/favicon.png type=image/png><title>Local :: Development & Deployment static website to AWS Cloud</title>
<link href=https://bibichannel.github.io/workshop-02/css/nucleus.css?1716562186 rel=stylesheet><link href=https://bibichannel.github.io/workshop-02/css/fontawesome-all.min.css?1716562186 rel=stylesheet><link href=https://bibichannel.github.io/workshop-02/css/hybrid.css?1716562186 rel=stylesheet><link href=https://bibichannel.github.io/workshop-02/css/featherlight.min.css?1716562186 rel=stylesheet><link href=https://bibichannel.github.io/workshop-02/css/perfect-scrollbar.min.css?1716562186 rel=stylesheet><link href=https://bibichannel.github.io/workshop-02/css/auto-complete.css?1716562186 rel=stylesheet><link href=https://bibichannel.github.io/workshop-02/css/atom-one-dark-reasonable.css?1716562186 rel=stylesheet><link href=https://bibichannel.github.io/workshop-02/css/theme.css?1716562186 rel=stylesheet><link href=https://bibichannel.github.io/workshop-02/css/hugo-theme.css?1716562186 rel=stylesheet><link href=https://bibichannel.github.io/workshop-02/css/theme-workshop.css?1716562186 rel=stylesheet><script src=https://bibichannel.github.io/workshop-02/js/jquery-3.3.1.min.js?1716562186></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=https://bibichannel.github.io/workshop-02/5-provisioningtesting/5.1-local/><nav id=sidebar class=showVisitedLinks><div id=header-wrapper><div id=header><a id=logo href=https://bibichannel.github.io/workshop-02/><svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff}.cls-2{fill:#f90;fill-rule:evenodd}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09 10.85a4.7 4.7.0 00.19 1.48 7.73 7.73.0 00.54 1.19.77.77.0 01.12.38.64.64.0 01-.32.49l-1 .7a.83.83.0 01-.44.15.69.69.0 01-.49-.23 3.8 3.8.0 01-.6-.77q-.25-.42-.51-1a6.14 6.14.0 01-4.89 2.3 4.54 4.54.0 01-3.32-1.19 4.27 4.27.0 01-1.22-3.2 4.28 4.28.0 011.46-3.4A6.06 6.06.0 017.69 6.46a12.47 12.47.0 011.76.13q.92.13 1.91.36V5.73a3.65 3.65.0 00-.79-2.66A3.81 3.81.0 007.86 2.3a7.71 7.71.0 00-1.79.22 12.78 12.78.0 00-1.79.57 4.55 4.55.0 01-.58.22h-.26q-.35.0-.35-.52V2a1.09 1.09.0 01.12-.58 1.2 1.2.0 01.47-.35A10.88 10.88.0 015.77.32 10.19 10.19.0 018.36.0a6 6 0 014.35 1.35 5.49 5.49.0 011.38 4.09zM7.34 13.38a5.36 5.36.0 001.72-.31A3.63 3.63.0 0010.63 12 2.62 2.62.0 0011.19 11a5.63 5.63.0 00.16-1.44v-.7a14.35 14.35.0 00-1.53-.28 12.37 12.37.0 00-1.56-.1 3.84 3.84.0 00-2.47.67A2.34 2.34.0 005 11a2.35 2.35.0 00.61 1.76A2.4 2.4.0 007.34 13.38zm13.35 1.8a1 1 0 01-.64-.16 1.3 1.3.0 01-.35-.65L15.81 1.51a3 3 0 01-.15-.67.36.36.0 01.41-.41H17.7a1 1 0 01.65.16 1.4 1.4.0 01.33.65l2.79 11 2.59-11A1.17 1.17.0 0124.39.6a1.1 1.1.0 01.67-.16H26.4a1.1 1.1.0 01.67.16 1.17 1.17.0 01.32.65L30 12.39 32.88 1.25A1.39 1.39.0 0133.22.6a1 1 0 01.65-.16h1.54a.36.36.0 01.41.41 1.36 1.36.0 010 .26 3.64 3.64.0 01-.12.41l-4 12.86a1.3 1.3.0 01-.35.65 1 1 0 01-.64.16H29.25a1 1 0 01-.67-.17 1.26 1.26.0 01-.32-.67L25.67 3.64l-2.56 10.7a1.26 1.26.0 01-.32.67 1 1 0 01-.67.17zm21.36.44a11.28 11.28.0 01-2.56-.29 7.44 7.44.0 01-1.92-.67 1 1 0 01-.61-.93v-.84q0-.52.38-.52a.9.9.0 01.31.06l.42.17a8.77 8.77.0 001.83.58 9.78 9.78.0 002 .2 4.48 4.48.0 002.43-.55 1.76 1.76.0 00.86-1.57 1.61 1.61.0 00-.45-1.16A4.29 4.29.0 0043 9.22l-2.41-.76A5.15 5.15.0 0138 6.78a3.94 3.94.0 01-.83-2.41 3.7 3.7.0 01.45-1.85 4.47 4.47.0 011.19-1.37 5.27 5.27.0 011.7-.86A7.4 7.4.0 0142.6.0a8.87 8.87.0 011.12.07q.57.07 1.08.19t.95.26a4.27 4.27.0 01.7.29 1.59 1.59.0 01.49.41.94.94.0 01.15.55v.79q0 .52-.38.52a1.76 1.76.0 01-.64-.2 7.74 7.74.0 00-3.2-.64 4.37 4.37.0 00-2.21.47 1.6 1.6.0 00-.79 1.48 1.58 1.58.0 00.49 1.18 4.94 4.94.0 001.83.92L44.55 7a5.08 5.08.0 012.57 1.6A3.76 3.76.0 0147.9 11a4.21 4.21.0 01-.44 1.93 4.4 4.4.0 01-1.21 1.47 5.43 5.43.0 01-1.85.93A8.25 8.25.0 0142.05 15.62z"/><path class="cls-2" d="M45.19 23.81C39.72 27.85 31.78 30 25 30A36.64 36.64.0 01.22 20.57c-.51-.46-.06-1.09.56-.74A49.78 49.78.0 0025.53 26.4 49.23 49.23.0 0044.4 22.53C45.32 22.14 46.1 23.14 45.19 23.81z"/><path class="cls-2" d="M47.47 21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74 3.13-2.2 8.27-1.57 8.86-.83s-.16 5.89-3.09 8.35c-.45.38-.88.18-.68-.32C46.69 25.8 48.17 22.11 47.47 21.21z"/></svg></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=https://bibichannel.github.io/workshop-02/js/lunr.min.js?1716562186></script><script type=text/javascript src=https://bibichannel.github.io/workshop-02/js/auto-complete.js?1716562186></script><script type=text/javascript>var baseurl="https://bibichannel.github.io/workshop-02/"</script><script type=text/javascript src=https://bibichannel.github.io/workshop-02/js/search.js?1716562186></script></div><div class=highlightable><ul class=topics><li data-nav-id=/1-introduce/ title=Introduction class=dd-item><a href=https://bibichannel.github.io/workshop-02/1-introduce/><b>1. </b>Introduction
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/2-prerequisites/ title="Preparation " class=dd-item><a href=https://bibichannel.github.io/workshop-02/2-prerequisites/><b>2. </b>Preparation
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/2-prerequisites/2.1-createiam/ title="Create User Groups and IAM User" class=dd-item><a href=https://bibichannel.github.io/workshop-02/2-prerequisites/2.1-createiam/><b>2.1 </b>Create User Groups and IAM User
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/2-prerequisites/2.2-createoidc/ title="Create OIDC" class=dd-item><a href=https://bibichannel.github.io/workshop-02/2-prerequisites/2.2-createoidc/><b>2.2 </b>Create OIDC
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/2-prerequisites/2.3-createbucket/ title="Create S3 bucket" class=dd-item><a href=https://bibichannel.github.io/workshop-02/2-prerequisites/2.3-createbucket/><b>2.3 </b>Create S3 bucket
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/2-prerequisites/2.4-createcodestar/ title="Create CodeStar Connection" class=dd-item><a href=https://bibichannel.github.io/workshop-02/2-prerequisites/2.4-createcodestar/><b>2.4 </b>Create CodeStar Connection
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/2-prerequisites/2.5-installtools/ title="Install tools" class=dd-item><a href=https://bibichannel.github.io/workshop-02/2-prerequisites/2.5-installtools/><b>2.5 </b>Install tools
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/3-setupgithub/ title="Prepare github repository" class=dd-item><a href=https://bibichannel.github.io/workshop-02/3-setupgithub/><b>3. </b>Prepare github repository
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/3-setupgithub/3.1-createterraformrepo/ title="Terraform IaC to AWS Cloud" class=dd-item><a href=https://bibichannel.github.io/workshop-02/3-setupgithub/3.1-createterraformrepo/><b>3.1 </b>Terraform IaC to AWS Cloud
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/3-setupgithub/3.2-createstreamlitrepo/ title="Streamlit application" class=dd-item><a href=https://bibichannel.github.io/workshop-02/3-setupgithub/3.2-createstreamlitrepo/><b>3.2 </b>Streamlit application
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/4-knowledgeterraform/ title="Knowledge Terraform" class=dd-item><a href=https://bibichannel.github.io/workshop-02/4-knowledgeterraform/><b>4. </b>Knowledge Terraform
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/4-knowledgeterraform/4.1-overview/ title=Overview class=dd-item><a href=https://bibichannel.github.io/workshop-02/4-knowledgeterraform/4.1-overview/><b>4.1 </b>Overview
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/4-knowledgeterraform/4.2-terraformflow/ title="Terrafrom flow" class=dd-item><a href=https://bibichannel.github.io/workshop-02/4-knowledgeterraform/4.2-terraformflow/><b>4.2 </b>Terrafrom flow
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/5-provisioningtesting/ title="Provisioning & Testing" class="dd-item
parent"><a href=https://bibichannel.github.io/workshop-02/5-provisioningtesting/><b>5. </b>Provisioning & Testing
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/5-provisioningtesting/5.1-local/ title=Local class="dd-item
active"><a href=https://bibichannel.github.io/workshop-02/5-provisioningtesting/5.1-local/><b>5.1 </b>Local
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-provisioningtesting/5.2-githubaction/ title="Git action" class=dd-item><a href=https://bibichannel.github.io/workshop-02/5-provisioningtesting/5.2-githubaction/><b>5.2 </b>Git action
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/6-cleanup/ title="Resource Cleanup" class=dd-item><a href=https://bibichannel.github.io/workshop-02/6-cleanup/><b>7. </b>Resource Cleanup
<i class="fas fa-check read-icon"></i></a></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://www.facebook.com/groups/awsstudygroupfcj/><i class='fab fa-facebook'></i> AWS Study Group</a></li></ul></section><section id=prefooter><hr><ul><li><a class=padding><i class="fas fa-language fa-fw"></i><div class=select-style><select id=select-language onchange="location=this.value"><option id=en value=https://bibichannel.github.io/workshop-02/5-provisioningtesting/5.1-local/ selected>English</option><option id=vi value=https://bibichannel.github.io/workshop-02/vi/5-provisioningtesting/5.1-local/>Tiếng Việt</option></select><svg id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="255" height="255" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255"><g><g id="arrow-drop-down"><polygon points="0,63.75 127.5,191.25 255,63.75"/></g></g></svg></div></a></li><li><a class=padding href=# data-clear-history-toggle><i class="fas fa-history fa-fw"></i> Clear History</a></li></ul></section><section id=footer><left><b>Workshop</b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7920860&style=0038&nbdigits=9&type=page&initCount=0" title=Migrate alt="web counter" border=0></a><br><b><a href=https://cloudjourney.awsstudygroup.com/>Cloud Journey</a></b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" alt="web counter" border=0>
</left><left><br><br><b>Last Updated</b><br><i><font color=orange>30-01-2022</font></i>
</left><left><br><br><b>Team</b><br><i><a href=https://www.linkedin.com/in/sutrinh/ style=color:orange>Sử Trịnh</a><br><a href=https://www.linkedin.com/in/jotaguy style=color:orange>Gia Hưng</a><br><a href=https://www.linkedin.com/in/hiepnguyendt style=color:orange>Thanh Hiệp </a></i></left><script async defer src=https://buttons.github.io/buttons.js></script></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=top-github-link><a class=github-link title='Edit this page' href=https://bibichannel.github.io/workshop-02/5-provisioning&amp;Testing/5.1-local/_index.md target=blank><i class="fas fa-code-branch"></i>
<span id=top-github-link-text>Edit this page</span></a></div><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i>
</a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=https://bibichannel.github.io/workshop-02/>Development & Deployment static website to AWS Cloud</a> > <a href=https://bibichannel.github.io/workshop-02/5-provisioningtesting/>Provisioning & Testing</a> > Local</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><ul><li><a href=#preparation>Preparation</a></li><li><a href=#execution>Execution</a></li><li><a href=#check-on-aws-console>Check on AWS Console</a></li><li><a href=#destroy-infrastructure>Destroy infrastructure</a></li></ul></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Local</h1><h3 id=preparation>Preparation</h3><p>When running locally, we need to have two additional files: <strong>terraform.tfvars</strong> and <strong>vars.tfbackend</strong>. These files will assign values to the environment variables defined in the variables.tf file in the root directory and configure the backend to store state in an S3 bucket.</p><ol><li>For <strong>terraform.tfvars</strong>, you will have the following content:</li></ol><pre tabindex=0><code class=language-tfvars data-lang=tfvars>aws_region              = &#34;us-east-1&#34;
stage_name              = &#34;staging&#34;
project_name            = &#34;workshop-02&#34;
create_by               = &lt;Your name&gt;
github_repo             = &lt;GitHubOrg/GitHubRepo&gt;
github_branch           = &#34;main&#34;
codestar_connection_arn = &lt;CodeStar Conneciton ARN&gt;
account_id              = &lt;Account ID AWS&gt;
</code></pre><ul><li>The <strong>github_repo</strong> variable is the name of the GitHub repo containing the source code for the Streamlit app created in <a href=https://bibichannel.github.io/workshop-02/3-setupgithub/3.2-createstreamlitrepo/>step 3.2</a>. This variable is used to configure the <strong>stage source</strong> of <strong>Codepipeline services</strong>.</li><li>The <strong>github_branch</strong> variable is the branch of the GitHub repo containing the source code of the Streamlit app you want to monitor. This variable is used to configure the <strong>stage source</strong> of <strong>Codepipeline services</strong>.</li><li>The <strong>codestar_connection_arn</strong> variable contains the ARN of the Connection created in <a href=https://bibichannel.github.io/workshop-02/2-prerequisites/2.4-createcodestar/>step 2.4</a>. This variable is used to configure the <strong>stage source</strong> of <strong>Codepipeline services</strong>.</li><li>The <strong>account_id</strong> variable contains your AWS account ID, which is used to create the role for the <strong>Amazon Simple Notification Service (SNS) service</strong>.</li><li>In addition to the listed variables, I&rsquo;ve provided placeholders for other common variables used across modules or for tagging resources.</li></ul><ol start=2><li>For <strong>vars.tfbackend</strong>, you will have the following content:</li></ol><pre tabindex=0><code class=language-tfbackend data-lang=tfbackend>bucket = &lt;Bucket&#39;s name&gt;
key    = &#34;terraform-staging/terraform.tfstate&#34;
region = &#34;us-east-1&#34;
</code></pre><ul><li>Configuring the backend for Terraform to store the state file in an S3 bucket requires declaring variables as above. Using a backend helps in collaborating on Terraform code, securing the state file, etc.</li><li>The <strong>bucket</strong> variable contains the name of the bucket you use to store the backend as created in <a href=https://bibichannel.github.io/workshop-02/2-prerequisites/2.3-createbucket/>step 2.3</a>.</li><li>The <strong>key</strong> variable configures the prefix for the path to the Terraform file in the bucket.</li><li>The <strong>region</strong> variable determines the region where your bucket is located.</li><li>You can read more about setting up a backend for Terraform at <a href=https://developer.hashicorp.com/terraform/language/settings/backends/s3>backend s3</a>.</li></ul><ol start=3><li>Open the <strong>main.tf</strong> file in the root directory of the source code and navigate to the <strong>locals block</strong>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tf data-lang=tf><span style=display:flex><span><span style=color:#a6e22e>locals</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>tags</span> = {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Project</span>     = var.<span style=color:#a6e22e>project_name</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>CreateBy</span>    = var.<span style=color:#a6e22e>create_by</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Environment</span> = var.<span style=color:#a6e22e>stage_name</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>container_name</span>     = <span style=color:#e6db74>&#34;streamlit-app&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>container_port</span>     = <span style=color:#ae81ff>8501</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>container_cpu</span>      = <span style=color:#ae81ff>512</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>container_memory</span>   = <span style=color:#ae81ff>1024</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>notification_email</span> = <span style=color:#e6db74>&#34;trung.lykhanh150901@gmail.com&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li>In addition to the tags list containing key:value pairs with values passed from the <strong>terraform.tfvars</strong> file, we are interested in the following variables:</li><li><strong>container_name</strong> is the variable used to name the container in the ECS services configuration.</li><li><strong>container_port</strong> is the port exposed by the container.</li><li><strong>container_cpu</strong> sets the CPU limit for Fargate task definitions.</li><li><strong>notification_email</strong> is the email registered with the SNS service to receive notifications of state changes from CodePipeline.</li></ul><p>Adjust the values of these variables to suit your needs.</p><h3 id=execution>Execution</h3><p>After you have these two files, run the following commands one by one:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>terraform init -backend-config<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;vars.tfbackend&#39;</span>
</span></span></code></pre></div><ul><li><p>This command will install plugins for the providers you have declared in the <strong>providers.tf</strong> file, initialize a Terraform environment in the current directory, and configure the backend using the parameters from the <strong>vars.tfbackend</strong> file through the <strong>-backend-config</strong> flag. It also loads the modules we&rsquo;ve written.</p></li><li><p>The following image shows the output after running this command:</p></li></ul><p><img alt=image src=https://bibichannel.github.io/workshop-02/images/5-provisioning&Testing/5.1-local/001-local.png></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>terraform validate
</span></span></code></pre></div><ul><li><p>This command is used to check if all your Terraform configuration files have correct syntax and are valid without making any actual changes to the infrastructure. It helps you catch syntax errors or logic errors before applying any changes.</p></li><li><p>The following image shows the output after running this command:</p></li></ul><p><img alt=image src=https://bibichannel.github.io/workshop-02/images/5-provisioning&Testing/5.1-local/002-local.png></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>terraform plan
</span></span></code></pre></div><ul><li><p>This command generates a plan to perform changes on the infrastructure based on the Terraform configuration and the current state without actually making any changes. It allows you to preview what will happen if you apply these changes.</p></li><li><p>When you run <strong>terraform plan</strong>, Terraform reads your configuration and the current state, then compares them to determine what changes need to be made to achieve the desired state. The output of this command will display a list of actions Terraform will take, including creating, updating, or deleting resources.</p></li><li><p>It also provides information about which resources will be changed, added, and removed (if any). Additionally, it provides an estimate of the cost and time required to implement the changes.</p></li><li><p>The following image shows the output after running this command:</p></li></ul><p><img alt=image src=https://bibichannel.github.io/workshop-02/images/5-provisioning&Testing/5.1-local/003-local.png></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>terraform apply -auto-approve
</span></span></code></pre></div><ul><li><p>The <strong>terraform apply -auto-approve</strong> command applies the changes planned by Terraform without requiring additional confirmation from the user. This means Terraform will automatically apply the changes without needing any further confirmation.</p></li><li><p>The following image shows the output after running this command:</p></li></ul><p><img alt=image src=https://bibichannel.github.io/workshop-02/images/5-provisioning&Testing/5.1-local/004-local.png></p><ul><li>Some resources may take time to create, but once they are created, you will receive an <strong>apply complete</strong> message.</li></ul><h3 id=check-on-aws-console>Check on AWS Console</h3><p>Access the following consoles to check the information of the resources you have created:</p><ol><li>VPC console <a href="https://us-east-1.console.aws.amazon.com/vpcconsole/home?region=us-east-1#vpcs:">link</a></li><li>Codepipeline console <a href="https://us-east-1.console.aws.amazon.com/codesuite/codepipeline/pipelines?region=us-east-1">link</a></li><li>ECR console <a href="https://us-east-1.console.aws.amazon.com/ecr/private-registry/repositories?region=us-east-1">link</a></li><li>ECS console <a href="https://us-east-1.console.aws.amazon.com/ecs/v2/clusters?region=us-east-1">link</a></li><li>SNS topic console <a href="https://us-east-1.console.aws.amazon.com/sns/v3/home?region=us-east-1#/topics">link</a></li><li>EvenBridge rule console <a href="https://us-east-1.console.aws.amazon.com/events/home?region=us-east-1#/rules">link</a></li><li>Endpoint console <a href="https://us-east-1.console.aws.amazon.com/vpcconsole/home?region=us-east-1#Endpoints:">link</a></li><li>S3 bucket <a href="https://us-east-1.console.aws.amazon.com/s3/home?region=us-east-1">link</a></li><li>ALB console <a href="https://us-east-1.console.aws.amazon.com/ec2/home?region=us-east-1#LoadBalancers:">link</a></li></ol><p>Information about codepipeline state changes is sent to the registered email. Remember to check your email early for your SNS services <strong>Subscription</strong> email.</p><p><img alt=image src=https://bibichannel.github.io/workshop-02/images/5-provisioning&Testing/5.1-local/005-local.png></p><p>Access the following information to see if the website has been built.</p><p><img alt=image src=https://bibichannel.github.io/workshop-02/images/5-provisioning&Testing/5.1-local/006-local.png></p><table><thead><tr><th style=text-align:center>Container 1</th><th style=text-align:center>Container 2</th></tr></thead><tbody><tr><td style=text-align:center><img alt=image src=https://bibichannel.github.io/workshop-02/images/5-provisioning&Testing/5.1-local/007-local.png></td><td style=text-align:center><img alt=image src=https://bibichannel.github.io/workshop-02/images/5-provisioning&Testing/5.1-local/008-local.png></td></tr></tbody></table><p>As we can see, the website is functioning properly, and the load balancer routes traffic to 2 containers.</p><div class="notices info"><p>Have you noticed that here I use the <strong>DNS</strong> of the <strong>load balancer</strong>? But in the initial architecture, we also configured <strong>route53</strong>! Because following a workshop straight through won&rsquo;t awaken your curiosity, so in the final module, I&rsquo;ll let you write it yourself and deploy a domain name that you register. Challenge yourself and create a complete system for this picture. I believe you can do it if you&rsquo;ve read this far.</p></div><h4 id=push-new-code-to-the-streamlit-app-repository>Push new code to the streamlit app repository</h4><p>Change any code or text in the directory containing the source code of the streamlit app and push it to GitHub.
Return to the <a href="https://us-east-1.console.aws.amazon.com/codesuite/codepipeline/pipelines?region=us-east-1">Codepipeline console</a> to see if the pipeline is functioning correctly. Check the email response when the codepipeline changes state and check ECS Fargate services to see if tasks have been created or not.</p><h3 id=destroy-infrastructure>Destroy infrastructure</h3><p>Run the following command to destroy the infrastructure you provisioned.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>terraform destroy -auto-approve
</span></span></code></pre></div><p><img alt=image src=https://bibichannel.github.io/workshop-02/images/5-provisioning&Testing/5.1-local/009-local.png></p><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=https://bibichannel.github.io/workshop-02/5-provisioningtesting/ title="Provisioning & Testing"><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=https://bibichannel.github.io/workshop-02/5-provisioningtesting/5.2-githubaction/ title="Git action" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=https://bibichannel.github.io/workshop-02/js/clipboard.min.js?1716562186></script><script src=https://bibichannel.github.io/workshop-02/js/perfect-scrollbar.min.js?1716562186></script><script src=https://bibichannel.github.io/workshop-02/js/perfect-scrollbar.jquery.min.js?1716562186></script><script src=https://bibichannel.github.io/workshop-02/js/jquery.sticky.js?1716562186></script><script src=https://bibichannel.github.io/workshop-02/js/featherlight.min.js?1716562186></script><script src=https://bibichannel.github.io/workshop-02/js/highlight.pack.js?1716562186></script><script>hljs.initHighlightingOnLoad()</script><script src=https://bibichannel.github.io/workshop-02/js/modernizr.custom-3.6.0.js?1716562186></script><script src=https://bibichannel.github.io/workshop-02/js/learn.js?1716562186></script><script src=https://bibichannel.github.io/workshop-02/js/hugo-learn.js?1716562186></script><link href=https://bibichannel.github.io/workshop-02/mermaid/mermaid.css?1716562186 rel=stylesheet><script src=https://bibichannel.github.io/workshop-02/mermaid/mermaid.js?1716562186></script><script>mermaid.initialize({startOnLoad:!0})</script><script>(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-158079754-2","auto"),ga("send","pageview")</script></body></html>